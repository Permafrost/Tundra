<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">respond</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgT2Jq
ZWN0IGNvbnRlbnQgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQoY3Vyc29yLCAiJHJlc3BvbnNl
LmNvbnRlbnQiLCBPYmplY3QuY2xhc3MsICIiKTsKICAgIFN0cmluZyBjb250ZW50VHlwZSA9IElE
YXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVzcG9uc2UuY29udGVudC50eXBlIiwgU3RyaW5nLmNs
YXNzKTsKICAgIENoYXJzZXQgY2hhcnNldCA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVz
cG9uc2UuY29udGVudC5lbmNvZGluZyIsIENoYXJzZXQuY2xhc3MpOwogICAgU3RyaW5nIHJlc3Bv
bnNlSUQgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHJlc3BvbnNlLmNvbnRlbnQuaWQiLCBT
dHJpbmcuY2xhc3MpOwogICAgVGhyb3dhYmxlIGV4Y2VwdGlvbiA9IElEYXRhSGVscGVyLmdldChj
dXJzb3IsICIkZXhjZXB0aW9uIiwgVGhyb3dhYmxlLmNsYXNzKTsKCiAgICBpbnQgcmVzcG9uc2VD
b2RlOwogICAgSW5wdXRTdHJlYW0gcmVzcG9uc2VCb2R5OwoKICAgIExpc3Q8TlNTZXJ2aWNlPiBz
dGFjayA9IFNlcnZpY2VIZWxwZXIuZ2V0Q2FsbFN0YWNrKCk7CiAgICBpZiAoc3RhY2suc2l6ZSgp
ID4gMCkgc3RhY2sucmVtb3ZlKHN0YWNrLnNpemUoKSAtIDEpOyAvLyByZW1vdmUgY2FsbCB0byB0
aGlzIHNlcnZpY2UKICAgIGJvb2xlYW4gaW5pdGlhdG9yID0gc3RhY2suc2l6ZSgpIDw9IDE7Cgog
ICAgaWYgKGluaXRpYXRvcikgewogICAgICAgIGlmIChleGNlcHRpb24gPT0gbnVsbCkgewogICAg
ICAgICAgICByZXNwb25zZUNvZGUgPSAyMDI7CiAgICAgICAgICAgIHJlc3BvbnNlQm9keSA9IElu
cHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShjb250ZW50LCBjaGFyc2V0KTsKICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICBleGNlcHRpb24gPSBFeGNlcHRpb25IZWxwZXIuZ2V0SW5pdGlhbENh
dXNlKGV4Y2VwdGlvbik7CiAgICAgICAgICAgIFN0cmluZyBleGNlcHRpb25DbGFzcyA9IGV4Y2Vw
dGlvbi5nZXRDbGFzcygpLmdldE5hbWUoKTsKICAgICAgICAgICAgaWYgKCJwZXJtYWZyb3N0LnR1
bmRyYS5jb250ZW50Lk1hbGZvcm1lZEV4Y2VwdGlvbiIuZXF1YWxzKGV4Y2VwdGlvbkNsYXNzKSkg
ewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDAwOwogICAgICAgICAgICB9IGVsc2Ug
aWYgKCJwZXJtYWZyb3N0LnR1bmRyYS5sYW5nLlNlY3VyaXR5RXhjZXB0aW9uIi5lcXVhbHMoZXhj
ZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MDM7CiAgICAg
ICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVuZHJhLmNvbnRlbnQuVW5zdXBwb3J0ZWRF
eGNlcHRpb24iLmVxdWFscyhleGNlcHRpb25DbGFzcykpIHsKICAgICAgICAgICAgICAgIHJlc3Bv
bnNlQ29kZSA9IDQwNjsKICAgICAgICAgICAgfSBlbHNlIGlmICgicGVybWFmcm9zdC50dW5kcmEu
Y29udGVudC5EdXBsaWNhdGVFeGNlcHRpb24iLmVxdWFscyhleGNlcHRpb25DbGFzcykpIHsKICAg
ICAgICAgICAgICAgIHJlc3BvbnNlQ29kZSA9IDQwOTsKICAgICAgICAgICAgfSBlbHNlIGlmICgi
cGVybWFmcm9zdC50dW5kcmEuY29udGVudC5WYWxpZGF0aW9uRXhjZXB0aW9uIi5lcXVhbHMoZXhj
ZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MjI7CiAgICAg
ICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA1MDA7CiAgICAg
ICAgICAgIH0KICAgICAgICAgICAgcmVzcG9uc2VCb2R5ID0gSW5wdXRTdHJlYW1IZWxwZXIubm9y
bWFsaXplKGV4Y2VwdGlvbi5nZXRNZXNzYWdlKCksIGNoYXJzZXQpOwogICAgICAgIH0KCiAgICAg
ICAgSURhdGEgaGVhZGVycyA9IG51bGw7CiAgICAgICAgaWYgKHJlc3BvbnNlSUQgIT0gbnVsbCkg
ewogICAgICAgICAgICBoZWFkZXJzID0gSURhdGFGYWN0b3J5LmNyZWF0ZSgpOwogICAgICAgICAg
ICBJRGF0YUN1cnNvciBoZWFkZXJzQ3Vyc29yID0gaGVhZGVycy5nZXRDdXJzb3IoKTsKICAgICAg
ICAgICAgaGVhZGVyc0N1cnNvci5pbnNlcnRBZnRlcigiWC1SZXNwb25zZS1JRCIsIHJlc3BvbnNl
SUQpOwogICAgICAgICAgICBoZWFkZXJzQ3Vyc29yLmRlc3Ryb3koKTsKICAgICAgICB9CgogICAg
ICAgIFNlcnZpY2VIZWxwZXIucmVzcG9uZChyZXNwb25zZUNvZGUsIG51bGwsIGhlYWRlcnMsIHJl
c3BvbnNlQm9keSwgY29udGVudFR5cGUsIGNoYXJzZXQpOwogICAgfSBlbHNlIGlmIChleGNlcHRp
b24gIT0gbnVsbCkgewogICAgICAgIEV4Y2VwdGlvbkhlbHBlci5yYWlzZShleGNlcHRpb24pOwog
ICAgfQp9IGZpbmFsbHkgewogICAgY3Vyc29yLmRlc3Ryb3koKTsKfQ==</value>
</Values>
