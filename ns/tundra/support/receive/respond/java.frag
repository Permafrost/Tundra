<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">respond</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgT2Jq
ZWN0IGNvbnRlbnQgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQoY3Vyc29yLCAiJHJlc3BvbnNl
LmNvbnRlbnQiLCBPYmplY3QuY2xhc3MsICIiKTsKICAgIFN0cmluZyBjb250ZW50VHlwZSA9IElE
YXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVzcG9uc2UuY29udGVudC50eXBlIiwgU3RyaW5nLmNs
YXNzKTsKICAgIENoYXJzZXQgY2hhcnNldCA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVz
cG9uc2UuY29udGVudC5lbmNvZGluZyIsIENoYXJzZXQuY2xhc3MpOwogICAgU3RyaW5nIHJlc3Bv
bnNlSUQgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHJlc3BvbnNlLmNvbnRlbnQuaWQiLCBT
dHJpbmcuY2xhc3MpOwogICAgVGhyb3dhYmxlIGV4Y2VwdGlvbiA9IElEYXRhSGVscGVyLmdldChj
dXJzb3IsICIkZXhjZXB0aW9uIiwgVGhyb3dhYmxlLmNsYXNzKTsKCiAgICBpbnQgcmVzcG9uc2VD
b2RlOwogICAgSW5wdXRTdHJlYW0gcmVzcG9uc2VCb2R5OwoKICAgIExpc3Q8TlNTZXJ2aWNlPiBz
dGFjayA9IFNlcnZpY2VIZWxwZXIuZ2V0Q2FsbFN0YWNrKCk7CiAgICBpZiAoc3RhY2suc2l6ZSgp
ID4gMCkgc3RhY2sucmVtb3ZlKHN0YWNrLnNpemUoKSAtIDEpOyAvLyByZW1vdmUgY2FsbCB0byB0
aGlzIHNlcnZpY2UKICAgIGJvb2xlYW4gaW5pdGlhdG9yID0gc3RhY2suc2l6ZSgpIDw9IDE7Cgog
ICAgaWYgKGluaXRpYXRvcikgewogICAgICAgIGlmIChleGNlcHRpb24gPT0gbnVsbCkgewogICAg
ICAgICAgICByZXNwb25zZUNvZGUgPSAyMDI7CiAgICAgICAgICAgIHJlc3BvbnNlQm9keSA9IElu
cHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShjb250ZW50LCBjaGFyc2V0KTsKICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICBUaHJvd2FibGUgaW5pdGlhbEV4Y2VwdGlvbiA9IEV4Y2VwdGlvbkhl
bHBlci5nZXRJbml0aWFsQ2F1c2UoZXhjZXB0aW9uKTsKICAgICAgICAgICAgU3RyaW5nIGluaXRp
YWxFeGNlcHRpb25DbGFzcyA9IGluaXRpYWxFeGNlcHRpb24uZ2V0Q2xhc3MoKS5nZXROYW1lKCk7
CiAgICAgICAgICAgIGlmICgicGVybWFmcm9zdC50dW5kcmEuY29udGVudC5NYWxmb3JtZWRFeGNl
cHRpb24iLmVxdWFscyhpbml0aWFsRXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICBy
ZXNwb25zZUNvZGUgPSA0MDA7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVu
ZHJhLmxhbmcuQXV0aGVudGljYXRpb25FeGNlcHRpb24iLmVxdWFscyhpbml0aWFsRXhjZXB0aW9u
Q2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MDE7CiAgICAgICAgICAg
IH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVuZHJhLmxhbmcuU2VjdXJpdHlFeGNlcHRpb24iLmVx
dWFscyhpbml0aWFsRXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNv
ZGUgPSA0MDM7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVuZHJhLmNvbnRl
bnQuVW5zdXBwb3J0ZWRFeGNlcHRpb24iLmVxdWFscyhpbml0aWFsRXhjZXB0aW9uQ2xhc3MpKSB7
CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MDY7CiAgICAgICAgICAgIH0gZWxzZSBp
ZiAoInBlcm1hZnJvc3QudHVuZHJhLmNvbnRlbnQuRHVwbGljYXRlRXhjZXB0aW9uIi5lcXVhbHMo
aW5pdGlhbEV4Y2VwdGlvbkNsYXNzKSkgewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0g
NDA5OwogICAgICAgICAgICB9IGVsc2UgaWYgKCJwZXJtYWZyb3N0LnR1bmRyYS5jb250ZW50LlZh
bGlkYXRpb25FeGNlcHRpb24iLmVxdWFscyhpbml0aWFsRXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAg
ICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MjI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAg
ICAgICAgICAgICByZXNwb25zZUNvZGUgPSA1MDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg
cmVzcG9uc2VCb2R5ID0gSW5wdXRTdHJlYW1IZWxwZXIubm9ybWFsaXplKEV4Y2VwdGlvbkhlbHBl
ci5nZXRNZXNzYWdlKGV4Y2VwdGlvbiwgZmFsc2UsIGZhbHNlKSwgY2hhcnNldCk7CiAgICAgICAg
fQoKICAgICAgICBJRGF0YSBoZWFkZXJzID0gbnVsbDsKICAgICAgICBpZiAocmVzcG9uc2VJRCAh
PSBudWxsKSB7CiAgICAgICAgICAgIGhlYWRlcnMgPSBJRGF0YUZhY3RvcnkuY3JlYXRlKCk7CiAg
ICAgICAgICAgIElEYXRhQ3Vyc29yIGhlYWRlcnNDdXJzb3IgPSBoZWFkZXJzLmdldEN1cnNvcigp
OwogICAgICAgICAgICBoZWFkZXJzQ3Vyc29yLmluc2VydEFmdGVyKCJYLVJlc3BvbnNlLUlEIiwg
cmVzcG9uc2VJRCk7CiAgICAgICAgICAgIGhlYWRlcnNDdXJzb3IuZGVzdHJveSgpOwogICAgICAg
IH0KCiAgICAgICAgU2VydmljZUhlbHBlci5yZXNwb25kKHJlc3BvbnNlQ29kZSwgbnVsbCwgaGVh
ZGVycywgcmVzcG9uc2VCb2R5LCBjb250ZW50VHlwZSwgY2hhcnNldCk7CiAgICB9IGVsc2UgaWYg
KGV4Y2VwdGlvbiAhPSBudWxsKSB7CiAgICAgICAgRXhjZXB0aW9uSGVscGVyLnJhaXNlKGV4Y2Vw
dGlvbik7CiAgICB9Cn0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgpOwp9</value>
</Values>
