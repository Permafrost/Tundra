<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">respond</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgT2Jq
ZWN0IGNvbnRlbnQgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQoY3Vyc29yLCAiJHJlc3BvbnNl
LmNvbnRlbnQiLCBPYmplY3QuY2xhc3MsICIiKTsKICAgIFN0cmluZyBjb250ZW50VHlwZSA9IElE
YXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVzcG9uc2UuY29udGVudC50eXBlIiwgU3RyaW5nLmNs
YXNzKTsKICAgIENoYXJzZXQgY2hhcnNldCA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVz
cG9uc2UuY29udGVudC5lbmNvZGluZyIsIENoYXJzZXQuY2xhc3MpOwogICAgU3RyaW5nIHJlc3Bv
bnNlSUQgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHJlc3BvbnNlLmNvbnRlbnQuaWQiLCBT
dHJpbmcuY2xhc3MpOwogICAgVGhyb3dhYmxlIGV4Y2VwdGlvbiA9IElEYXRhSGVscGVyLmdldChj
dXJzb3IsICIkZXhjZXB0aW9uIiwgVGhyb3dhYmxlLmNsYXNzKTsKCiAgICBpbnQgcmVzcG9uc2VD
b2RlOwogICAgSW5wdXRTdHJlYW0gcmVzcG9uc2VCb2R5OwoKICAgIExpc3Q8TlNTZXJ2aWNlPiBz
dGFjayA9IFNlcnZpY2VIZWxwZXIuZ2V0Q2FsbFN0YWNrKCk7CiAgICBpZiAoc3RhY2suc2l6ZSgp
ID4gMCkgc3RhY2sucmVtb3ZlKHN0YWNrLnNpemUoKSAtIDEpOyAvLyByZW1vdmUgY2FsbCB0byB0
aGlzIHNlcnZpY2UKICAgIGJvb2xlYW4gaW5pdGlhdG9yID0gc3RhY2suc2l6ZSgpIDw9IDE7Cgog
ICAgaWYgKGluaXRpYXRvcikgewogICAgICAgIGlmIChleGNlcHRpb24gPT0gbnVsbCkgewogICAg
ICAgICAgICByZXNwb25zZUNvZGUgPSAyMDI7CiAgICAgICAgICAgIHJlc3BvbnNlQm9keSA9IElu
cHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShjb250ZW50LCBjaGFyc2V0KTsKICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICBleGNlcHRpb24gPSBFeGNlcHRpb25IZWxwZXIuZ2V0SW5pdGlhbENh
dXNlKGV4Y2VwdGlvbik7CiAgICAgICAgICAgIFN0cmluZyBleGNlcHRpb25DbGFzcyA9IGV4Y2Vw
dGlvbi5nZXRDbGFzcygpLmdldE5hbWUoKTsKICAgICAgICAgICAgaWYgKCJwZXJtYWZyb3N0LnR1
bmRyYS5jb250ZW50Lk1hbGZvcm1lZEV4Y2VwdGlvbiIuZXF1YWxzKGV4Y2VwdGlvbkNsYXNzKSkg
ewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDAwOwogICAgICAgICAgICB9IGVsc2Ug
aWYgKCJwZXJtYWZyb3N0LnR1bmRyYS5sYW5nLkF1dGhlbnRpY2F0aW9uRXhjZXB0aW9uIi5lcXVh
bHMoZXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0MDE7
CiAgICAgICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVuZHJhLmxhbmcuU2VjdXJpdHlF
eGNlcHRpb24iLmVxdWFscyhleGNlcHRpb25DbGFzcykpIHsKICAgICAgICAgICAgICAgIHJlc3Bv
bnNlQ29kZSA9IDQwMzsKICAgICAgICAgICAgfSBlbHNlIGlmICgicGVybWFmcm9zdC50dW5kcmEu
Y29udGVudC5VbnN1cHBvcnRlZEV4Y2VwdGlvbiIuZXF1YWxzKGV4Y2VwdGlvbkNsYXNzKSkgewog
ICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDA2OwogICAgICAgICAgICB9IGVsc2UgaWYg
KCJwZXJtYWZyb3N0LnR1bmRyYS5jb250ZW50LkR1cGxpY2F0ZUV4Y2VwdGlvbiIuZXF1YWxzKGV4
Y2VwdGlvbkNsYXNzKSkgewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDA5OwogICAg
ICAgICAgICB9IGVsc2UgaWYgKCJwZXJtYWZyb3N0LnR1bmRyYS5jb250ZW50LlZhbGlkYXRpb25F
eGNlcHRpb24iLmVxdWFscyhleGNlcHRpb25DbGFzcykpIHsKICAgICAgICAgICAgICAgIHJlc3Bv
bnNlQ29kZSA9IDQyMjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJlc3Bv
bnNlQ29kZSA9IDUwMDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXNwb25zZUJvZHkgPSBJ
bnB1dFN0cmVhbUhlbHBlci5ub3JtYWxpemUoZXhjZXB0aW9uLmdldE1lc3NhZ2UoKSwgY2hhcnNl
dCk7CiAgICAgICAgfQoKICAgICAgICBJRGF0YSBoZWFkZXJzID0gbnVsbDsKICAgICAgICBpZiAo
cmVzcG9uc2VJRCAhPSBudWxsKSB7CiAgICAgICAgICAgIGhlYWRlcnMgPSBJRGF0YUZhY3Rvcnku
Y3JlYXRlKCk7CiAgICAgICAgICAgIElEYXRhQ3Vyc29yIGhlYWRlcnNDdXJzb3IgPSBoZWFkZXJz
LmdldEN1cnNvcigpOwogICAgICAgICAgICBoZWFkZXJzQ3Vyc29yLmluc2VydEFmdGVyKCJYLVJl
c3BvbnNlLUlEIiwgcmVzcG9uc2VJRCk7CiAgICAgICAgICAgIGhlYWRlcnNDdXJzb3IuZGVzdHJv
eSgpOwogICAgICAgIH0KCiAgICAgICAgU2VydmljZUhlbHBlci5yZXNwb25kKHJlc3BvbnNlQ29k
ZSwgbnVsbCwgaGVhZGVycywgcmVzcG9uc2VCb2R5LCBjb250ZW50VHlwZSwgY2hhcnNldCk7CiAg
ICB9IGVsc2UgaWYgKGV4Y2VwdGlvbiAhPSBudWxsKSB7CiAgICAgICAgRXhjZXB0aW9uSGVscGVy
LnJhaXNlKGV4Y2VwdGlvbik7CiAgICB9Cn0gZmluYWxseSB7CiAgICBjdXJzb3IuZGVzdHJveSgp
Owp9</value>
</Values>
