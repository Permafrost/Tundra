<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">respond</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7Cgp0cnkgewogICAgT2Jq
ZWN0IGNvbnRlbnQgPSBJRGF0YUhlbHBlci5nZXRPckRlZmF1bHQoY3Vyc29yLCAiJHJlc3BvbnNl
LmNvbnRlbnQiLCBPYmplY3QuY2xhc3MsICIiKTsKICAgIFN0cmluZyBjb250ZW50VHlwZSA9IElE
YXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVzcG9uc2UuY29udGVudC50eXBlIiwgU3RyaW5nLmNs
YXNzKTsKICAgIENoYXJzZXQgY2hhcnNldCA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIkcmVz
cG9uc2UuY29udGVudC5lbmNvZGluZyIsIENoYXJzZXQuY2xhc3MpOwogICAgU3RyaW5nIHJlc3Bv
bnNlSUQgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHJlc3BvbnNlLmNvbnRlbnQuaWQiLCBT
dHJpbmcuY2xhc3MpOwogICAgVGhyb3dhYmxlIGV4Y2VwdGlvbiA9IElEYXRhSGVscGVyLmdldChj
dXJzb3IsICIkZXhjZXB0aW9uIiwgVGhyb3dhYmxlLmNsYXNzKTsKCiAgICBpbnQgcmVzcG9uc2VD
b2RlOwogICAgSW5wdXRTdHJlYW0gcmVzcG9uc2VCb2R5OwoKICAgIExpc3Q8TlNTZXJ2aWNlPiBz
dGFjayA9IFNlcnZpY2VIZWxwZXIuZ2V0Q2FsbFN0YWNrKCk7CiAgICBpZiAoc3RhY2suc2l6ZSgp
ID4gMCkgc3RhY2sucmVtb3ZlKHN0YWNrLnNpemUoKSAtIDEpOyAvLyByZW1vdmUgY2FsbCB0byB0
aGlzIHNlcnZpY2UKICAgIGJvb2xlYW4gaW5pdGlhdG9yID0gc3RhY2suc2l6ZSgpIDw9IDE7Cgog
ICAgaWYgKGluaXRpYXRvcikgewogICAgICAgIGlmIChleGNlcHRpb24gPT0gbnVsbCkgewogICAg
ICAgICAgICByZXNwb25zZUNvZGUgPSAyMDI7CiAgICAgICAgICAgIHJlc3BvbnNlQm9keSA9IElu
cHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShjb250ZW50LCBjaGFyc2V0KTsKICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICBTdHJpbmcgZXhjZXB0aW9uQ2xhc3MgPSBleGNlcHRpb24uZ2V0Q2xh
c3MoKS5nZXROYW1lKCk7CiAgICAgICAgICAgIGlmICgicGVybWFmcm9zdC50dW5kcmEuY29udGVu
dC5NYWxmb3JtZWRFeGNlcHRpb24iLmVxdWFscyhleGNlcHRpb25DbGFzcykpIHsKICAgICAgICAg
ICAgICAgIHJlc3BvbnNlQ29kZSA9IDQwMDsKICAgICAgICAgICAgfSBlbHNlIGlmICgicGVybWFm
cm9zdC50dW5kcmEubGFuZy5TZWN1cml0eUV4Y2VwdGlvbiIuZXF1YWxzKGV4Y2VwdGlvbkNsYXNz
KSkgewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDAzOwogICAgICAgICAgICB9IGVs
c2UgaWYgKCJwZXJtYWZyb3N0LnR1bmRyYS5jb250ZW50LlVuc3VwcG9ydGVkRXhjZXB0aW9uIi5l
cXVhbHMoZXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAgICByZXNwb25zZUNvZGUgPSA0
MDY7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3QudHVuZHJhLmNvbnRlbnQuRHVw
bGljYXRlRXhjZXB0aW9uIi5lcXVhbHMoZXhjZXB0aW9uQ2xhc3MpKSB7CiAgICAgICAgICAgICAg
ICByZXNwb25zZUNvZGUgPSA0MDk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoInBlcm1hZnJvc3Qu
dHVuZHJhLmNvbnRlbnQuVmFsaWRhdGlvbkV4Y2VwdGlvbiIuZXF1YWxzKGV4Y2VwdGlvbkNsYXNz
KSkgewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNDIyOwogICAgICAgICAgICB9IGVs
c2UgewogICAgICAgICAgICAgICAgcmVzcG9uc2VDb2RlID0gNTAwOwogICAgICAgICAgICB9CiAg
ICAgICAgICAgIHJlc3BvbnNlQm9keSA9IElucHV0U3RyZWFtSGVscGVyLm5vcm1hbGl6ZShleGNl
cHRpb24uZ2V0TWVzc2FnZSgpLCBjaGFyc2V0KTsKICAgICAgICB9CgogICAgICAgIElEYXRhIGhl
YWRlcnMgPSBudWxsOwogICAgICAgIGlmIChyZXNwb25zZUlEICE9IG51bGwpIHsKICAgICAgICAg
ICAgaGVhZGVycyA9IElEYXRhRmFjdG9yeS5jcmVhdGUoKTsKICAgICAgICAgICAgSURhdGFDdXJz
b3IgaGVhZGVyc0N1cnNvciA9IGhlYWRlcnMuZ2V0Q3Vyc29yKCk7CiAgICAgICAgICAgIGhlYWRl
cnNDdXJzb3IuaW5zZXJ0QWZ0ZXIoIlgtUmVzcG9uc2UtSUQiLCByZXNwb25zZUlEKTsKICAgICAg
ICAgICAgaGVhZGVyc0N1cnNvci5kZXN0cm95KCk7CiAgICAgICAgfQoKICAgICAgICBTZXJ2aWNl
SGVscGVyLnJlc3BvbmQocmVzcG9uc2VDb2RlLCBudWxsLCBoZWFkZXJzLCByZXNwb25zZUJvZHks
IGNvbnRlbnRUeXBlLCBjaGFyc2V0KTsKICAgIH0gZWxzZSBpZiAoZXhjZXB0aW9uICE9IG51bGwp
IHsKICAgICAgICBFeGNlcHRpb25IZWxwZXIucmFpc2UoZXhjZXB0aW9uKTsKICAgIH0KfSBmaW5h
bGx5IHsKICAgIGN1cnNvci5kZXN0cm95KCk7Cn0=</value>
</Values>
