<?xml version="1.0" encoding="UTF-8"?>

<Values version="2.0">
  <value name="name">ensure</value>
  <value name="encodeutf8">true</value>
  <value name="body">SURhdGFDdXJzb3IgY3Vyc29yID0gcGlwZWxpbmUuZ2V0Q3Vyc29yKCk7CgpUaHJlYWQgY3VycmVu
dFRocmVhZCA9IFRocmVhZC5jdXJyZW50VGhyZWFkKCk7CmludCBjdXJyZW50VGhyZWFkUHJpb3Jp
dHkgPSBjdXJyZW50VGhyZWFkLmdldFByaW9yaXR5KCk7CmJvb2xlYW4gY2hhbmdlVGhyZWFkUHJp
b3JpdHkgPSBmYWxzZTsKCnRyeSB7CiAgICBTdHJpbmcgdHJ5U2VydmljZSA9IElEYXRhSGVscGVy
LmdldChjdXJzb3IsICIkc2VydmljZSIsIFN0cmluZy5jbGFzcyk7CiAgICBTdHJpbmcgY2F0Y2hT
ZXJ2aWNlID0gSURhdGFIZWxwZXIuZ2V0KGN1cnNvciwgIiRjYXRjaCIsIFN0cmluZy5jbGFzcyk7
CiAgICBTdHJpbmcgZmluYWxseVNlcnZpY2UgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJGZp
bmFsbHkiLCBTdHJpbmcuY2xhc3MpOwogICAgSURhdGEgc2NvcGUgPSBJRGF0YUhlbHBlci5nZXRP
ckRlZmF1bHQoY3Vyc29yLCAiJHBpcGVsaW5lIiwgSURhdGEuY2xhc3MsIHBpcGVsaW5lKTsKICAg
IElEYXRhIGNhdGNoUGlwZWxpbmUgPSBJRGF0YUhlbHBlci5nZXQoY3Vyc29yLCAiJHBpcGVsaW5l
LmNhdGNoIiwgSURhdGEuY2xhc3MpOwogICAgSURhdGEgZmluYWxseVBpcGVsaW5lID0gSURhdGFI
ZWxwZXIuZ2V0KGN1cnNvciwgIiRwaXBlbGluZS5maW5hbGx5IiwgSURhdGEuY2xhc3MpOwogICAg
QmlnRGVjaW1hbCBuZXdUaHJlYWRQcmlvcml0eSA9IElEYXRhSGVscGVyLmdldChjdXJzb3IsICIk
dGhyZWFkLnByaW9yaXR5IiwgQmlnRGVjaW1hbC5jbGFzcyk7CiAgICBib29sZWFuIHNjb3BlZCA9
IHNjb3BlICE9IHBpcGVsaW5lOwoKICAgIC8vIHJlbW92ZSB0aGlzIHNlcnZpY2UncyBpbnB1dCBh
cmd1bWVudHMgZnJvbSB0aGUgcGlwZWxpbmUgaWYgdW5zY29wZWQKICAgIGlmICghc2NvcGVkKSBz
Y29wZSA9IElEYXRhSGVscGVyLmNsb25lKHBpcGVsaW5lLCAiJHNlcnZpY2UiLCAiJGNhdGNoIiwg
IiRmaW5hbGx5IiwgIiRwaXBlbGluZS5jYXRjaCIsICIkcGlwZWxpbmUuZmluYWxseSIpOwoKICAg
IGlmIChuZXdUaHJlYWRQcmlvcml0eSAhPSBudWxsKSB7CiAgICAgICAgaW50IHByaW9yaXR5ID0g
VGhyZWFkSGVscGVyLm5vcm1hbGl6ZVByaW9yaXR5KG5ld1RocmVhZFByaW9yaXR5LmludFZhbHVl
KCkpOwogICAgICAgIGNoYW5nZVRocmVhZFByaW9yaXR5ID0gcHJpb3JpdHkgIT0gY3VycmVudFRo
cmVhZFByaW9yaXR5OwogICAgICAgIGlmIChjaGFuZ2VUaHJlYWRQcmlvcml0eSkgY3VycmVudFRo
cmVhZC5zZXRQcmlvcml0eShwcmlvcml0eSk7CiAgICB9CgogICAgc2NvcGUgPSBTZXJ2aWNlSGVs
cGVyLmVuc3VyZSh0cnlTZXJ2aWNlLCBjYXRjaFNlcnZpY2UsIGZpbmFsbHlTZXJ2aWNlLCBzY29w
ZSwgY2F0Y2hQaXBlbGluZSwgZmluYWxseVBpcGVsaW5lKTsKCiAgICBpZiAoc2NvcGVkKSB7CiAg
ICAgICAgSURhdGFIZWxwZXIucHV0KGN1cnNvciwgIiRwaXBlbGluZSIsIHNjb3BlKTsKICAgIH0g
ZWxzZSB7CiAgICAgICAgSURhdGFIZWxwZXIubWVyZ2VJbnRvKHBpcGVsaW5lLCBzY29wZSk7CiAg
ICB9Cn0gZmluYWxseSB7CiAgICBpZiAoY2hhbmdlVGhyZWFkUHJpb3JpdHkpIGN1cnJlbnRUaHJl
YWQuc2V0UHJpb3JpdHkoY3VycmVudFRocmVhZFByaW9yaXR5KTsKICAgIGN1cnNvci5kZXN0cm95
KCk7Cn0=</value>
</Values>
